{{!--
  #regmap <id_map> <param> - It used to reassign values
  <id_map> - Id map. The #map used <id_map>.
  <param> - format key1[,key2]:value1;key3:value2. if {{#map 'maptype' key1}}{{/map}} displays value1

  #val <var> <param> - It is used to output values
  <var> - {{variable}}
  <param> - type quotes.

  #replace <var> <to_replace> <replacement> [cmd]
  Example: {{replace 'data/imp/next' '/' '.' 'firstupper'}} -> Data.Imp.Next
  Example: {{replace 'data/imp/next' '/' '.'}} -> Data.Imp.Next
--}}
{{!-- ****SERVICE SECTION**** --}}
{{regmap 'maptype' 'boolean:boolean;integer,integer64,float:numeric;string:string' ~}}

{{!-- ****IMPORT SECTION**** --}}
{{#each imports}}
import { {{type}} } from "./{{path}}/{{file}}";
{{/each}}

{{!-- ****CONST SECTION**** --}}
{{#each consts}}
  {{#each items }}
  {{#if description}}
/**
* {{ description }}
**/
  {{/if}}
export public const {{name}}: {{map 'maptype' type}}= {{#val value "'"}}{{/val}}
  {{/each}}
{{/each}}

{{!-- ****ENUMS SECTION**** --}}
{{#each enums}}
  {{#if description}}
/**
* {{ description }}
**/
  {{/if}}
export enum {{ name }}
{
  {{#each items}}
  {{#if description}}
   /**
   * {{ description }}
   **/
   {{/if}}
  {{name}}{{#if value}} = {{value}}{{/if}}{{#if @last}}{{else}},{{/if}}
  {{/each}}
}
{{/each}}

{{!-- ****MODEL SECTION**** --}}
{{#each models}}
  {{#if description}}
/**
* {{ description }}
**/
  {{/if}}
export interface {{ name }}{{#if basetype}} extends {{basetype}} {{/if}}
{
  {{#each items}}
   /**
   * {{#if required}}Required{{else}}Optional{{/if}}. {{ description }}
   **/
  {{name}}: {{map 'maptype' type}};
  {{/each}}
}
{{/each}}


{{!-- ****CONTRACT SECTION**** --}}
{{#each contracts}}
  {{#if description}}
/**
* {{ description }}
**/
  {{/if}}
export interface {{ name }}{{#if basetype}} extends {{basetype}} {{/if}}
{
  {{#each methods}}
   /**
   * {{ description }}
   {{#each args}}
   * @param  { {{map 'maptype' type}} } {{name}} {{description}}
   {{/each}}
   {{#if result}}* returns {{result.type}} {{result.description}}{{/if}}
   **/
  {{name}}({{#each args}}{{#if @first}}{{else}} {{/if}}{{name}}: {{map 'maptype' type}}{{#if @last}}{{else}},{{/if}}{{/each}}){{#if result}}: {{map 'maptype' result.type}}{{/if}};
  {{/each}}
}
{{/each}}
